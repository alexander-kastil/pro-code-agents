# {{ ticket_number }}

**Description:** {{ user_prompt }}

**Timestamp:** {{ timestamp }}

**Active Log Levels:** {{ active_levels | join(', ') }}

## Outcome

Your support ticket has been automatically analyzed and categorized. Our AI-powered triage system has:

âœ… **Assessed the priority** of your issue to ensure urgent matters get immediate attention  
âœ… **Identified the right team** to handle your request based on the technical area  
âœ… **Estimated the effort** required so you know what to expect for resolution time  

{% if triage_result %}
**Analysis Result:**

{{ triage_result }}

{% endif %}
The analysis is complete and your ticket has been routed to the appropriate team for action.

## Technical Process

The triage agent used connected agents as tools. Each specialized agent operates independently with its own instructions, while the main agent delegates tasks and aggregates responses.

**System Architecture:**
- **Priority Agent**: Assessed urgency based on impact and user-facing issues
- **Team Agent**: Determined optimal team assignment based on ticket content
- **Effort Agent**: Estimated required work and complexity

The main orchestrator agent coordinated these assessments to provide comprehensive triage results.

**Token Usage:**
- Input Tokens: {{ tokens_in }}
- Output Tokens: {{ tokens_out }}
- Total Tokens: {{ tokens_total }}

{% if 'default' in diagrams %}
### Default Level - Agent Interaction Diagram

Sequence diagram showing the core message flow and run lifecycle between agents.

```mermaid
{{ diagrams['default'] }}
```
{% endif %}

{% if 'verbose' in diagrams %}
### Verbose Level - System Setup Flowchart

Flowchart showing agent creation, tool registration, and execution flow.

```mermaid
{{ diagrams['verbose'] }}
```
{% endif %}

{% if 'http' in diagrams %}
### HTTP Level - API Communication Layer

This section provides a detailed view of all HTTP requests and responses exchanged between the client application and the Azure AI Agent Service API. Each API call is numbered sequentially and includes the HTTP method, endpoint, operation description, and response status code.

**What you'll see:**
- ðŸ“¤ **Outbound requests** from the client to the Azure AI service
- ðŸ“¥ **Response status codes** with success/error indicators (âœ“ = success, âš  = client error, âœ— = server error)
- ðŸ“ **Operation descriptions** explaining what each API call does
- ðŸ”¢ **Sequential numbering** to track the order of operations

```mermaid
{{ diagrams['http'] }}
```

#### HTTP Events Timeline

The following table shows all HTTP requests in chronological order:

| # | Method | Endpoint | Status | Operation |
|---|--------|----------|--------|-----------|
{% for event in http_events %}
{%- if event.type == 'http_request' %}
{%- set parts = event.request.split(' ', 1) %}
{%- set method = parts[0] if parts|length > 0 else 'N/A' %}
{%- set endpoint = parts[1] if parts|length > 1 else 'N/A' %}
| {{ loop.index }} | {{ method }} | {{ endpoint }} | {{ event.status }} | {{ event.get('description', 'API call') }} |
{% endif %}
{%- endfor %}

{% endif %}
